---
layout: default
---

<p>B-Translator is made of two parts,
a <a href="https://github.com/B-Translator/btr_client"
target="_blank">client</a> application and a
<a href="https://github.com/B-Translator/btr_server"
target="_blank">server</a> application, which communicate with
each-other through an <a href="/api/" target="_blank">HTTP
API</a>. Both of these applications are built with Drupal7. For more
flexibility, there is also
a <a href="https://github.com/B-Translator/btrclient"
target="_blank">drupal module</a> for the client, that can be
installed independently on any Drupal application or distribution.</p>

<p>Installation is done inside a Docker container. For instructions
about installing Docker
see: <a href="https://docs.docker.com/installation/"
target="_blank">https://docs.docker.com/installation/</a></p>


<a id="btr_client"><h2>Installing btr_client</h2></a>

<ol>
  <li>Get the image of the system:
    <pre class="example">docker search btranslator
docker pull btranslator/btr_client:v3.0</pre>
  </li>

  <li>Create a container:
    <pre class="example">### create a container
docker create --name=btr_client --hostname=example.org \
    -p 80:80 -p 443:443 --restart=always \
    btranslator/btr_client:v3.0

### start the container
docker start btr_client</pre>
  </li>

  <li>Change the configuration:
    <pre class="example">### enter the shell of the container
alias docker-exec='docker exec -it btr_client env TERM=xterm'
docker-exec bash

### modify the configration settings
cp install/settings.sh btr_client.conf
vim btr_client.conf

### change the configuration
install/config.sh btr_client.conf

### restart the container
exit
docker restart btr_client</pre>
  </li>

  <li>If this is a test installation or you are installing it on your
    local machine, add to <code>/etc/hosts</code> a line like
    this <code>127.0.0.1 example.org</code> with the domain that you
    used in configuration and the IP of the server. Now you can open
    in browser <a href="https://example.org"
    target="_blank">https://example.org</a> and access the
    application. You will have to confirm the security exception,
    since the SSL certificates of the web server are not real ones.
  </li>

  <li>Make more configuration changes:
    <pre class="example">### change the domain
docker-exec install/config/domain.sh

### change the translation language
docker-exec install/config/translation_lng.sh

### change drupal admin password
docker-exec install/config/drupalpass.sh

### change the gmail account
docker-exec install/config/gmailsmtp.sh

### change the oauth2 login settings
docker-exec install/config/oauth2_login.sh</pre>
  </li>
</ol>


<a id="btr_server"><h2>Installing btr_server</h2></a>

<ol>
  <li>Get the image of the system:
    <pre class="example">docker search btranslator
docker pull btranslator/btr_server:v3.0</pre>
  </li>

  <li>Create a container:
    <pre class="example">mkdir -p /docker/{PO_files,downloads}

### create a container
docker create --name=btr_server --hostname=example.org \
    -v /docker/PO_files:/var/www/PO_files \
    -v /docker/downloads:/var/www/downloads \
    -p 80:80 -p 443:443 --restart=always \
    btranslator/btr_server:v3.0

### start the container
docker start btr_server</pre>
  </li>

  <li>Change the configuration:
    <pre class="example">### enter the shell of the container
alias docker-exec='docker exec -it btr_server env TERM=xterm'
docker-exec bash

### modify the configration settings
cp install/settings.sh btr_server.conf
vim btr_server.conf

### change the configuration
install/config.sh btr_server.conf

### restart the container
exit
docker restart btr_server</pre>
  </li>

  <li>Make more configuration changes:
    <pre class="example">### change the domain
docker-exec install/config/domain.sh

### change the supported languages
docker-exec install/config/languages.sh

### change drupal admin password
docker-exec install/config/drupalpass.sh

### change the gmail account
docker-exec install/config/gmailsmtp.sh</pre>
  </li>

  <li>Download and import PO files:
    <pre class="example">### get the PO files (takes a long time)
docker-exec /var/www/data/get.sh
docker-exec tail -f /var/www/data/nohup-get.out
docker-exec less -r /var/www/data/nohup-get.out

### import them (takes many hours and maybe days)
docker-exec /var/www/data/import.sh
docker-exec tail -f /var/www/data/nohup-import.out
docker-exec less -r /var/www/data/nohup-import.out</pre>
  </li>
</ol>
