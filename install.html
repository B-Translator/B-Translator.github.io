---
layout: default
---

<h2>Installation</h2>

<p>B-Translator is made of two parts, a client application and a
server application, which communicate with each-other through an HTTP
API. They can be installed together on the same server, or they can be
installed on different servers. Both of these applications are built
with Drupal7. For more flexibility, there is also a drupal module for
the client, that can be installed independently on any Drupal
application or distribution.</p>

<h3>Installation with Docker</h3>

<p>Docker currently supports only the <strong>amd64</strong>
architecture. Some basic steps for installation and configuration are here:</p>

<ol>
  <li>Get the image of the system:
    <pre class="example">docker search btranslator
docker pull btranslator/btr_client:v2.2</pre>
  </li>

  <p>The images <code>btranslator/btr_client:v2.2-openatrium</code>
  and <code>btranslator/btr_server:v2.2</code> are available as
  well.</p>
  
  <li>Create a container:
    <pre class="example">docker run -d --name=bcl --hostname=example.org \
           -p 80:80 -p 443:443 btranslator/btr_client:v2.2</pre>
  </li>
  <p>You can stop and start the container with <code>docker stop
  bcl</code> and <code>docker start bcl</code> (or <code>docker
  restart bcl</code>).</p>

  <li>Change the configuration:
    <pre class="example">docker-enter bcl
cd /usr/local/src/btr_client/
vim install/settings.sh
install/{config.sh,settings.sh}</pre>
  </li>

  <p>You can also give the configuration settings interactively
  with: <code>install/config.sh</code> (without <code>settings.sh</code>).</p>

  <p><strong>Note:</strong> The command <code>docker-enter</code> can
  be installed with: <code>docker run -v /usr/local/bin:/target jpetazzo/nsenter</code></p>

  <li>If this is a test installation or you are installing it on your
    local machine, add to <code>/etc/hosts</code> a line like
    this <code>127.0.0.1 example.org</code> with the domain that you
    used in configuration and the IP of the server. Now you can open
    in browser <a href="https://example.org"
    target="_blank">https://example.org</a> and access the
    application. You will have to confirm the security exception,
    since the SSL certificates of the web server are not real ones.
  </li>
</ol>

<p>There are more details about working with Docker
in <a href="docker.html">this page</a>.</p>


<h3>Server Installation</h3>

<p>Installing a server is almost the same as installing a client, but
we use the image <code>btranslator/btr_server:v2.2</code> instead.

Also replace <strong>bcl</strong> with <strong>btr</strong> in the
instructions above and add another domain for the server
at <code>/etc/hosts</code>, for example <code>127.0.0.1
btr.example.org</code>.</p>

<p><strong>Note:</strong>For the server you also have to update
manually the function <code>btr_get_sites()</code>
on <code>modules/custom/btrCore/includes/sites.inc</code> whenever a
new language site is registered:
<pre class="example">docker-enter btr
cd /var/www/btr/profiles/btr_server/
vim modules/custom/btrCore/includes/sites.inc</pre>
This is something that has not been automated yet.
</p>


<h3>Installation with Chroot</h3>

<p>Installation inside a chroot works well on Ubuntu. For other
distributions it may need small tweaks. The steps for installation
inside <em>chroot</em> are described in <a href="chroot.html">this
page</a>.</p>


<a id="module"><h3>Installing btrClient Module</h3></a>

<p>The module btrClient is intended for Drupal developers who want to
integrate it into their Drupal application. For instructions about it
see <a href="https://github.com/B-Translator/btrClient"
target="_blank">https://github.com/B-Translator/btrClient</a>
or <a href="https://drupal.org/project/btrclient"
target="_blank">https://drupal.org/project/btrclient</a>.</p>

<a id="iframe"><h3>Vocabulary iFrame</h3></a>

<p>Embed something like this in your web page or application:</p>

<!--
<pre class="example"><xmp><div style="width:300px; display:inline-block;
           float:right; border:1px solid #aaa; padding:5px;">
  <h3 style="margin-top:0px; color:#2a2;">Vocabulary: ICT_sq</h3>

  <iframe src="https://l10n.org.al/vocabulary/ICT_sq?display=iframe"
          width="100%" height="350px"
          seamless="seamless" frameborder="0">
  </iframe>
</div></xmp></pre>
-->

<!-- Start HTML generated using hilite.me -->
<div><pre style="margin-bottom: 15px; line-height: 125%"><span style="color: #6ab825; font-weight: bold">&lt;div</span> <span style="color: #bbbbbb">style=</span><span style="color: #ed9d13">&quot;width:300px; display:inline-block;</span>
<span style="color: #ed9d13">            float:right; border:1px solid #aaa; padding:5px;&quot;</span><span style="color: #6ab825; font-weight: bold">&gt;</span>
  <span style="color: #6ab825; font-weight: bold">&lt;h3</span> <span style="color: #bbbbbb">style=</span><span style="color: #ed9d13">&quot;margin-top:0px; color:#2a2;&quot;</span><span style="color: #6ab825; font-weight: bold">&gt;</span>Vocabulary: ICT_sq<span style="color: #6ab825; font-weight: bold">&lt;/h3&gt;</span>

  <span style="color: #6ab825; font-weight: bold">&lt;iframe</span> <span style="color: #bbbbbb">src=</span><span style="color: #ed9d13">&quot;https://l10n.org.al/vocabulary/ICT_sq?display=iframe&quot;</span>
          <span style="color: #bbbbbb">width=</span><span style="color: #ed9d13">&quot;100%&quot;</span> <span style="color: #bbbbbb">height=</span><span style="color: #ed9d13">&quot;350px&quot;</span>
          <span style="color: #bbbbbb">seamless=</span><span style="color: #ed9d13">&quot;seamless&quot;</span> <span style="color: #bbbbbb">frameborder=</span><span style="color: #ed9d13">&quot;0&quot;</span><span style="color: #6ab825; font-weight: bold">&gt;</span>
  <span style="color: #6ab825; font-weight: bold">&lt;/iframe&gt;</span>
<span style="color: #6ab825; font-weight: bold">&lt;/div&gt;</span>
</pre></div>
<!-- End HTML generated using hilite.me -->

<div style="width:300px; display:inline-block; float:right; border:1px solid #aaa; padding:5px;">
  <h3 style="margin-top:0px; color:#2a2;">Vocabulary: ICT_sq</h3>
  <iframe src="https://l10n.org.al/vocabulary/ICT_sq?display=iframe"
          width="100%" height="350px"
          seamless="seamless" frameborder="0">
  </iframe>
</div>

<p>It will display a vocabulary inside a frame, like the example shown here:</p>

<p>For Drupal developers there is also a module
that defines a block that embeds this iFrame:
<br/> <a href="https://www.drupal.org/project/btrblocks"
target="_blank">https://www.drupal.org/project/btrblocks</a>.
</p>
